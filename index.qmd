---
title: " :recycle: Making MATLAB projects reproducible and shareable"
format: revealjs
author: "**Dr David Wilby** (he/him)<br>[RSE Team](https://rse.shef.ac.uk/), The University of Sheffield<br>[rse.shef.ac.uk](https://rse.shef.ac.uk) | [davidwilby.dev](https://davidwilby.dev)"
institute: "<strong>OpenFest</strong>"
date: "Thurs 15th September 2022"
footer: "**slides**: [davidwilby.dev/reproducible_matlab](https://davidwilby.dev/reproducible_matlab) - **improve this talk!** [github.com/davidwilby/reproducible_matlab](https://github.com/davidwilby/reproducible_matlab)"
from: markdown+emoji
preview-links: true
---

## Who am I?
### And why should I be talking about this?

::: columns

::: {.column width="50%"}
::: {layout-nrow=2}
<img src="assets/images/RSE_logo_blackborder.png" width=300 align="center" />

<img src="assets/images/SSIFullColour.png" width=300 align="center" />
:::
:::

::: {.column width="50%"}
* Previously researcher in biology/physics
* Research Software Engineer
* [Software Sustainability Institute](https://software.ac.uk/) Fellow
:::
:::

## What is reproducibility?

![How the Turing Way defines reproducible
research](assets/images/turing-way-definitions.jpg){fig-align="center"}

<font size="3">Image: [The Turing
Way](https://the-turing-way.netlify.app/reproducible-research/overview/overview-definitions.html)</font>


## Why is reproducibility important for research?

<br>

::: columns
::: {.column width="50%"}

![](assets/images/turing-reasons-reproducibility.png){fig-align="center"}

<font size="3">Image: [The Turing
Way](https://the-turing-way.netlify.app/reproducible-research/overview/overview-benefit.html)</font>

:::

::: {.column width="50%"}

* **Verification** :heavy_check_mark:
* **Share learning**
* **Re-use** :recycle:
* **Longevity** :hourglass_flowing_sand:
* **Efficiency** :watch:
* **Make code accessible**

:::
:::




## What is *software*?

![](assets/images/software-code-twitter-poll.png){fig-align="center"}

## The Challenge of Software Reproducibility

* Create a well-defined computational **"environment"**
* Document required software, data and where to get them
* Document steps to reproduce analysis

## General Principles of Reproducible Code

. . .

* Organise your project :bookmark_tabs:

. . .

<!-- ## Organise your project -->
::: columns
::: {.column width="50%"}
**Instead of** :x:
```
first_try.m
pretty.fig
stuff/
how%20torun.docx
data.csv
data_(01).csv
data.txt
```
:::
::: {.column width="50%"}
**Try** :heavy_check_mark:
```
data/
docs/
figs/
output/
src/
    01_download_data.m
    02_clean_data.m
    03_fit_model.m
    04_plot_figs.m
README.md
```
:::
:::

<font size="3">Via [BES Guide to Reproducible Research](https://www.britishecologicalsociety.org/wp-content/uploads/2019/06/BES-Guide-Reproducible-Code-2019.pdf)</font>



## General Principles of Reproducible Code

::: {.incremental}
* Share the code :microscope:
* Share the data :bar_chart:
* Define dependencies :nerd_face:
* Use version control :octopus:
* Document how to use the code :clipboard:
* Get colleagues to try it out! :people_holding_hands: 
:::

## MATLAB can be ... challenging

* No package manager
* No virtual envrironments (sort of)
* Limited dependency discovery
* Proprietary source code
* MathWorks get most of their income from industry - so aren't largely motivated to develop open source tools and guidance
* Lots of weird binary file formats
* Doesn't get a lot of attention from software engineers

## So why bother?

. . .

#### Lots of researchers use MATLAB.

<img src="assets/images/matlab_publications.png" width=600 align="center" />

<font size="3">Data from: [Web of Science](https://webofscience.com)</font>

# The Solution?

## MATLAB 'Projects'
* almost like a virtual environment
* loads files onto the MATLAB `path`

<a href="assets/images/matlab_project.png"><img src="assets/images/matlab_project.png" width=50% /></a>

## Dependency management

## Version Control/Open Source Development

## Licensing

## Documentation

## Guiding Principles for Reproducibility
### (in my opinion..)

* write documentation
* think about environment management
* write examples (documentation)
* project organisation
* tutorials (also documentation)
* explain how to use the code (documentation)

# Resources
::: columns
::: {.column width="50%"}
* [The Turing Way](https://the-turing-way.netlify.app)
* [BES Guide to Reproducible Research](https://www.britishecologicalsociety.org/wp-content/uploads/2019/06/BES-Guide-Reproducible-Code-2019.pdf)
* [repliMAT (Coming soon!)](https://davidwilby.dev/repliMAT)
* [Code Clinics](https://rse.shef.ac.uk/support/code-clinic/)
:::
::: {.column width="50%"}
<a href="https://davidwilby.dev/reproducible_matlab">![](assets/images/qrcode.png)</a>
:::
:::